import"../chunks/DsnmJJEf.js";import{i as xe}from"../chunks/C35k26QC.js";import{G as _e,n as Me,D as Q,o as q,A as ge,p as Ce,S as m,aj as ke,B as qe,H as Re,C as ue,F as Z,z,a9 as De,ad as Le,w as ne,J as Fe,I as O,ak as fe,al as $,am as oe,ah as he,i as me,an as P,K as pe,L as He,ao as W,ap as Oe,aq as j,y as be,ab as $e,ar as Be,ag as Ge,as as ze,a7 as Ue,at as Ee,a2 as Ve,au as Ye,av as ye,aw as Ke,v as Pe,ax as We,ay as Xe,az as Je,aA as Qe,aB as Ze,aC as je,aD as ea,e as aa,aE as ra,aF as ta,X as Ae,Y as D,N as U,O as M,_ as Ne,a1 as F,$ as R,a0 as x,aG as na,aH as C,aI as la,Z as V,M as ve}from"../chunks/B3y_H8j7.js";import{s as B,e as de}from"../chunks/BOmU0NLt.js";import{i as ee}from"../chunks/yhttBV2W.js";function le(e,a){return a}function sa(e,a,r){for(var l=e.items,s=[],u=a.length,i=0;i<u;i++)Be(a[i].e,s,!0);var _=u>0&&s.length===0&&r!==null;if(_){var N=r.parentNode;Ge(N),N.append(r),l.clear(),k(e,a[0].prev,a[u-1].next)}ze(s,()=>{for(var y=0;y<u;y++){var p=a[y];_||(l.delete(p.k),k(e,p.prev,p.next)),be(p.e,!_)}})}function se(e,a,r,l,s,u=null){var i=e,_={flags:a,items:new Map,first:null},N=(a&Ee)!==0;if(N){var y=e;i=q?Q(ge(y)):y.appendChild(_e())}q&&Ce();var p=null,S=!1,w=new Map,I=ke(()=>{var f=r();return me(f)?f:f==null?[]:he(f)}),o,h;function t(){ia(h,o,_,w,i,s,a,l,r),u!==null&&(o.length===0?p?pe(p):p=ne(()=>u(i)):p!==null&&He(p,()=>{p=null}))}Me(()=>{h??=Ue,o=m(I);var f=o.length;if(S&&f===0)return;S=f===0;let d=!1;if(q){var b=qe(i)===Re;b!==(f===0)&&(i=ue(),Q(i),Z(!1),d=!0)}if(q){for(var A=null,c,n=0;n<f;n++){if(z.nodeType===De&&z.data===Le){i=z,d=!0,Z(!1);break}var v=o[n],E=l(v,n);c=ie(z,_,A,null,v,E,n,s,a,r),_.items.set(E,c),A=c}f>0&&Q(ue())}if(q)f===0&&u&&(p=ne(()=>u(i)));else if(Fe()){var T=new Set,L=O;for(n=0;n<f;n+=1){v=o[n],E=l(v,n);var H=_.items.get(E)??w.get(E);H?(a&(W|P))!==0&&Se(H,v,n,a):(c=ie(null,_,null,null,v,E,n,s,a,r,!0),w.set(E,c)),T.add(E)}for(const[g,K]of _.items)T.has(g)||L.skipped_effects.add(K.e);L.add_callback(t)}else t();d&&Z(!0),m(I)}),q&&(i=z)}function ia(e,a,r,l,s,u,i,_,N){var y=(i&Ye)!==0,p=(i&(W|P))!==0,S=a.length,w=r.items,I=r.first,o=I,h,t=null,f,d=[],b=[],A,c,n,v;if(y)for(v=0;v<S;v+=1)A=a[v],c=_(A,v),n=w.get(c),n!==void 0&&(n.a?.measure(),(f??=new Set).add(n));for(v=0;v<S;v+=1){if(A=a[v],c=_(A,v),n=w.get(c),n===void 0){var E=l.get(c);if(E!==void 0){l.delete(c),w.set(c,E);var T=t?t.next:o;k(r,t,E),k(r,E,T),ae(E,T,s),t=E}else{var L=o?o.e.nodes_start:s;t=ie(L,r,t,t===null?r.first:t.next,A,c,v,u,i,N)}w.set(c,t),d=[],b=[],o=t.next;continue}if(p&&Se(n,A,v,i),(n.e.f&j)!==0&&(pe(n.e),y&&(n.a?.unfix(),(f??=new Set).delete(n))),n!==o){if(h!==void 0&&h.has(n)){if(d.length<b.length){var H=b[0],g;t=H.prev;var K=d[0],X=d[d.length-1];for(g=0;g<d.length;g+=1)ae(d[g],H,s);for(g=0;g<b.length;g+=1)h.delete(b[g]);k(r,K.prev,X.next),k(r,t,K),k(r,X,H),o=H,t=X,v-=1,d=[],b=[]}else h.delete(n),ae(n,o,s),k(r,n.prev,n.next),k(r,n,t===null?r.first:t.next),k(r,t,n),t=n;continue}for(d=[],b=[];o!==null&&o.k!==c;)(o.e.f&j)===0&&(h??=new Set).add(o),b.push(o),o=o.next;if(o===null)continue;n=o}d.push(n),t=n,o=n.next}if(o!==null||h!==void 0){for(var G=h===void 0?[]:he(h);o!==null;)(o.e.f&j)===0&&G.push(o),o=o.next;var J=G.length;if(J>0){var Ie=(i&Ee)!==0&&S===0?s:null;if(y){for(v=0;v<J;v+=1)G[v].a?.measure();for(v=0;v<J;v+=1)G[v].a?.fix()}sa(r,G,Ie)}}y&&Ve(()=>{if(f!==void 0)for(n of f)n.a?.apply()}),e.first=r.first&&r.first.e,e.last=t&&t.e;for(var Te of l.values())be(Te.e);l.clear()}function Se(e,a,r,l){(l&W)!==0&&fe(e.v,a),(l&P)!==0?fe(e.i,r):e.i=r}function ie(e,a,r,l,s,u,i,_,N,y,p){var S=(N&W)!==0,w=(N&Oe)===0,I=S?w?$(s,!1,!1):oe(s):s,o=(N&P)===0?i:oe(i),h={i:o,v:I,k:u,a:null,e:null,prev:r,next:l};try{if(e===null){var t=document.createDocumentFragment();t.append(e=_e())}return h.e=ne(()=>_(e,I,o,y),q),h.e.prev=r&&r.e,h.e.next=l&&l.e,r===null?p||(a.first=h):(r.next=h,r.e.next=h.e),l!==null&&(l.prev=h,l.e.prev=h.e),h}finally{}}function ae(e,a,r){for(var l=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,u=e.e.nodes_start;u!==null&&u!==l;){var i=$e(u);s.before(u),u=i}}function k(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function we(e,a,r=!1){if(e.multiple){if(a==null)return;if(!me(a))return We();for(var l of e.options)l.selected=a.includes(Y(l));return}for(l of e.options){var s=Y(l);if(Xe(s,a)){l.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function ua(e){var a=new MutationObserver(()=>{we(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Pe(()=>{a.disconnect()})}function fa(e,a,r=a){var l=!0;ye(e,"change",s=>{var u=s?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(u),Y);else{var _=e.querySelector(u)??e.querySelector("option:not([disabled])");i=_&&Y(_)}r(i)}),Ke(()=>{var s=a();if(we(e,s,l),l&&s===void 0){var u=e.querySelector(":checked");u!==null&&(s=Y(u),r(s))}e.__value=s,l=!1}),ua(e)}function Y(e){return"__value"in e?e.__value:e.value}const oa=Symbol("is custom element"),va=Symbol("is html");function da(e){if(q){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var l=e.value;ce(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var s=e.checked;ce(e,"checked",null),e.checked=s}}};e.__on_r=r,Je(r),Qe()}}function ce(e,a,r,l){var s=ca(e);q&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[Ze]=r),e.removeAttribute(a))}function ca(e){return e.__attributes??={[oa]:e.nodeName.includes("-"),[va]:e.namespaceURI===je}}function _a(e,a,r=a){var l=ea(),s=new WeakSet;ye(e,"input",u=>{var i=u?e.defaultValue:e.value;if(i=re(e)?te(i):i,r(i),O!==null&&s.add(O),l&&i!==(i=a())){var _=e.selectionStart,N=e.selectionEnd;e.value=i??"",N!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(N,e.value.length))}}),(q&&e.defaultValue!==e.value||aa(a)==null&&e.value)&&(r(re(e)?te(e.value):e.value),O!==null&&s.add(O)),ra(()=>{var u=a();if(e===document.activeElement){var i=ta??O;if(s.has(i))return}re(e)&&u===te(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function re(e){var a=e.type;return a==="number"||a==="range"}function te(e){return e===""?null:+e}var ha=D("<option> </option>"),ma=D('<tr class="svelte-ip6uip"><td class="svelte-ip6uip"> </td><td class="svelte-ip6uip"> </td></tr>'),pa=D('<label>Filter by Note:&nbsp; <select></select></label> <table class="svelte-ip6uip"><thead><tr class="svelte-ip6uip"><th class="svelte-ip6uip">Note</th><th class="svelte-ip6uip">Frequency (Hz)</th></tr></thead><tbody></tbody></table>',1);function ba(e,a){Ae(a,!0);const r=440,l=69,s=["C","C♯/D♭","D","D♯/E♭","E","F","F♯/G♭","G","G♯/A♭","A","A♯/B♭","B"];function u(t){return r*Math.pow(2,(t-l)/12)}function i(t=24,f=120){const d=[];for(let b=t;b<=f;b++){const A=s[b%12],c=Math.floor(b/12)-1,n=`${A}${c}`,v=u(b).toFixed(2);d.push({note:n,frequency:v})}return d}const _=i(),N=[...Array.from(new Set(_.map(t=>t.note.replace(/\d+$/,""))))];let y=la("C"),p=na(()=>_.filter(t=>t.note.replace(/\d+$/,"")===m(y)));var S=pa(),w=U(S),I=F(R(w));se(I,21,()=>N,le,(t,f)=>{var d=ha(),b=R(d,!0);x(d);var A={};V(()=>{B(b,m(f)),A!==(A=m(f))&&(d.value=(d.__value=m(f))??"")}),M(t,d)}),x(I),x(w);var o=F(w,2),h=F(R(o));se(h,21,()=>m(p),le,(t,f)=>{let d=()=>m(f).note,b=()=>m(f).frequency;var A=ma(),c=R(A),n=R(c,!0);x(c);var v=F(c),E=R(v,!0);x(v),x(A),V(()=>{B(n,d()),B(E,b())}),M(t,A)}),x(h),x(o),fa(I,()=>m(y),t=>C(y,t)),M(e,S),Ne()}var Ea=D('<p style="color: red;"> </p>'),ya=D("<li> </li>"),Aa=D("<ul></ul>"),Na=D("<p>No rhymes found.</p>"),Sa=D('<input placeholder="Enter a word to find rhymes..."/> <button> </button> <!>',1);function wa(e,a){Ae(a,!1);let r=$(""),l=$([]),s=$(!1),u=$(""),i=$(!1),_="";async function N(){if(!m(r).trim()||m(r)==_)return;C(s,!0),C(u,""),C(l,[]),C(i,!1);const t=`https://rhymebrain.com/talk?function=getRhymes&word=${encodeURIComponent(m(r))}&maxResults=50`;try{const f=await fetch(t);if(!f.ok)throw new Error(`API error: ${f.statusText}`);const d=await f.json();C(l,d)}catch(f){C(u,f.message)}finally{C(s,!1),C(i,!0),_=m(r)}}xe();var y=Sa(),p=U(y);da(p);var S=F(p,2),w=R(S,!0);x(S);var I=F(S,2);{var o=t=>{var f=Ea(),d=R(f);x(f),V(()=>B(d,`Error: ${m(u)??""}`)),M(t,f)},h=t=>{var f=ve(),d=U(f);{var b=c=>{var n=Aa();se(n,5,()=>m(l),le,(v,E)=>{var T=ya(),L=R(T);x(T),V(()=>B(L,`${m(E).word??""} (score: ${m(E).score??""})`)),M(v,T)}),x(n),M(c,n)},A=c=>{var n=ve(),v=U(n);{var E=T=>{var L=Na();M(T,L)};ee(v,T=>{m(i)&&!m(s)&&m(l).length===0&&T(E)},!0)}M(c,n)};ee(d,c=>{m(l).length?c(b):c(A,!1)},!0)}M(t,f)};ee(I,t=>{m(u)?t(o):t(h,!1)})}V(()=>{S.disabled=m(s),B(w,m(s)?"Loading...":"Find Rhymes")}),_a(p,()=>m(r),t=>C(r,t)),de("keydown",p,t=>t.key==="Enter"&&N()),de("click",S,N),M(e,y),Ne()}var Ia=D("<h1>musictools</h1> <!> <!>",1);function ka(e){var a=Ia(),r=F(U(a),2);ba(r,{});var l=F(r,2);wa(l,{}),M(e,a)}export{ka as component};
