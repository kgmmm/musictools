import"../chunks/DsnmJJEf.js";import{i as Te}from"../chunks/C68q67Gp.js";import{G as ke,n as Ue,aD as Ie,D as Q,o as D,A as V,p as ue,S as m,ap as Ve,B as Ye,H as Ke,C as pe,F as re,z as H,a9 as Me,ad as We,w as de,J as Xe,aE as Z,aF as j,I as G,aG as ye,az as F,aH as Ee,ah as xe,i as Re,K as Ce,L as Je,aI as Qe,aJ as te,a2 as ce,y as De,aK as Ze,ab as qe,aL as je,ag as ea,aM as aa,a7 as Oe,Z as B,aN as ra,ae as ta,ac as la,r as ge,q as na,aO as he,aj as sa,v as Le,aP as ia,aQ as $e,aR as oa,aS as fa,aT as va,aU as ua,aV as da,e as ca,ak as Fe,aW as _a,X as me,Y as O,N as P,O as C,_ as be,a1 as x,$ as k,a0 as w,aB as ha,ar as R,aA as ma,M as Ae,aX as le}from"../chunks/CC7sPcii.js";import{s as z,e as Ne}from"../chunks/DYzaN1IM.js";import{i as ne}from"../chunks/qqrkIw0r.js";function W(e,r){return r}function ba(e,r,a){for(var l=e.items,t=[],o=r.length,n=0;n<o;n++)je(r[n].e,t,!0);var _=o>0&&t.length===0&&a!==null;if(_){var p=a.parentNode;ea(p),p.append(a),l.clear(),$(e,r[0].prev,r[o-1].next)}aa(t,()=>{for(var f=0;f<o;f++){var h=r[f];_||(l.delete(h.k),$(e,h.prev,h.next)),De(h.e,!_)}})}function X(e,r,a,l,t,o=null){var n=e,_={flags:r,items:new Map,first:null},p=(r&Ie)!==0;if(p){var f=e;n=D?Q(V(f)):f.appendChild(ke())}D&&ue();var h=null,E=!1,T=new Map,I=Ve(()=>{var u=a();return Re(u)?u:u==null?[]:xe(u)}),v,g;function s(){pa(g,v,_,T,n,t,r,l,a),o!==null&&(v.length===0?h?Ce(h):h=de(()=>o(n)):h!==null&&Je(h,()=>{h=null}))}Ue(()=>{g??=Oe,v=m(I);var u=v.length;if(E&&u===0)return;E=u===0;let b=!1;if(D){var A=Ye(n)===Ke;A!==(u===0)&&(n=pe(),Q(n),re(!1),b=!0)}if(D){for(var N=null,y,i=0;i<u;i++){if(H.nodeType===Me&&H.data===We){n=H,b=!0,re(!1);break}var d=v[i],c=l(d,i);y=_e(H,_,N,null,d,c,i,t,r,a),_.items.set(c,y),N=y}u>0&&Q(pe())}if(D)u===0&&o&&(h=de(()=>o(n)));else if(Xe()){var S=new Set,M=G;for(i=0;i<u;i+=1){d=v[i],c=l(d,i);var L=_.items.get(c)??T.get(c);L?(r&(Z|j))!==0&&He(L,d,i,r):(y=_e(null,_,null,null,d,c,i,t,r,a,!0),T.set(c,y)),S.add(c)}for(const[q,J]of _.items)S.has(q)||M.skipped_effects.add(J.e);M.add_callback(s)}else s();b&&re(!0),m(I)}),D&&(n=H)}function pa(e,r,a,l,t,o,n,_,p){var f=(n&Ze)!==0,h=(n&(Z|j))!==0,E=r.length,T=a.items,I=a.first,v=I,g,s=null,u,b=[],A=[],N,y,i,d;if(f)for(d=0;d<E;d+=1)N=r[d],y=_(N,d),i=T.get(y),i!==void 0&&(i.a?.measure(),(u??=new Set).add(i));for(d=0;d<E;d+=1){if(N=r[d],y=_(N,d),i=T.get(y),i===void 0){var c=l.get(y);if(c!==void 0){l.delete(y),T.set(y,c);var S=s?s.next:v;$(a,s,c),$(a,c,S),se(c,S,t),s=c}else{var M=v?v.e.nodes_start:t;s=_e(M,a,s,s===null?a.first:s.next,N,y,d,o,n,p)}T.set(y,s),b=[],A=[],v=s.next;continue}if(h&&He(i,N,d,n),(i.e.f&te)!==0&&(Ce(i.e),f&&(i.a?.unfix(),(u??=new Set).delete(i))),i!==v){if(g!==void 0&&g.has(i)){if(b.length<A.length){var L=A[0],q;s=L.prev;var J=b[0],ee=b[b.length-1];for(q=0;q<b.length;q+=1)se(b[q],L,t);for(q=0;q<A.length;q+=1)g.delete(A[q]);$(a,J.prev,ee.next),$(a,s,J),$(a,ee,L),v=L,s=ee,d-=1,b=[],A=[]}else g.delete(i),se(i,v,t),$(a,i.prev,i.next),$(a,i,s===null?a.first:s.next),$(a,s,i),s=i;continue}for(b=[],A=[];v!==null&&v.k!==y;)(v.e.f&te)===0&&(g??=new Set).add(v),A.push(v),v=v.next;if(v===null)continue;i=v}b.push(i),s=i,v=i.next}if(v!==null||g!==void 0){for(var U=g===void 0?[]:xe(g);v!==null;)(v.e.f&te)===0&&U.push(v),v=v.next;var ae=U.length;if(ae>0){var Ge=(n&Ie)!==0&&E===0?t:null;if(f){for(d=0;d<ae;d+=1)U[d].a?.measure();for(d=0;d<ae;d+=1)U[d].a?.fix()}ba(a,U,Ge)}}f&&ce(()=>{if(u!==void 0)for(i of u)i.a?.apply()}),e.first=a.first&&a.first.e,e.last=s&&s.e;for(var Pe of l.values())De(Pe.e);l.clear()}function He(e,r,a,l){(l&Z)!==0&&ye(e.v,r),(l&j)!==0?ye(e.i,a):e.i=a}function _e(e,r,a,l,t,o,n,_,p,f,h){var E=(p&Z)!==0,T=(p&Qe)===0,I=E?T?F(t,!1,!1):Ee(t):t,v=(p&j)===0?n:Ee(n),g={i:v,v:I,k:o,a:null,e:null,prev:a,next:l};try{if(e===null){var s=document.createDocumentFragment();s.append(e=ke())}return g.e=de(()=>_(e,I,v,f),D),g.e.prev=a&&a.e,g.e.next=l&&l.e,a===null?h||(r.first=g):(a.next=g,a.e.next=g.e),l!==null&&(l.prev=g,l.e.prev=g.e),g}finally{}}function se(e,r,a){for(var l=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,o=e.e.nodes_start;o!==null&&o!==l;){var n=qe(o);t.before(o),o=n}}function $(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function ya(e,r,a=!1,l=!1,t=!1){var o=e,n="";B(()=>{var _=Oe;if(n===(n=r()??"")){D&&ue();return}if(_.nodes_start!==null&&(ra(_.nodes_start,_.nodes_end),_.nodes_start=_.nodes_end=null),n!==""){if(D){H.data;for(var p=ue(),f=p;p!==null&&(p.nodeType!==Me||p.data!=="");)f=p,p=qe(p);if(p===null)throw ta(),la;ge(H,f),o=Q(p);return}var h=n+"";a?h=`<svg>${h}</svg>`:l&&(h=`<math>${h}</math>`);var E=na(h);if((a||l)&&(E=V(E)),ge(V(E),E.lastChild),a||l)for(;V(E);)o.before(V(E));else o.before(E)}})}function Be(e,r,a=!1){if(e.multiple){if(r==null)return;if(!Re(r))return ia();for(var l of e.options)l.selected=r.includes(K(l));return}for(l of e.options){var t=K(l);if($e(t,r)){l.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Ea(e){var r=new MutationObserver(()=>{Be(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Le(()=>{r.disconnect()})}function ga(e,r,a=r){var l=!0;he(e,"change",t=>{var o=t?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(o),K);else{var _=e.querySelector(o)??e.querySelector("option:not([disabled])");n=_&&K(_)}a(n)}),sa(()=>{var t=r();if(Be(e,t,l),l&&t===void 0){var o=e.querySelector(":checked");o!==null&&(t=K(o),a(t))}e.__value=t,l=!1}),Ea(e)}function K(e){return"__value"in e?e.__value:e.value}const Aa=Symbol("is custom element"),Na=Symbol("is html");function Y(e){if(D){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;we(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var t=e.checked;we(e,"checked",null),e.checked=t}}};e.__on_r=a,oa(a),fa()}}function we(e,r,a,l){var t=wa(e);D&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[va]=a),e.removeAttribute(r))}function wa(e){return e.__attributes??={[Aa]:e.nodeName.includes("-"),[Na]:e.namespaceURI===ua}}function ze(e,r,a=r){var l=da(),t=new WeakSet;he(e,"input",o=>{var n=o?e.defaultValue:e.value;if(n=fe(e)?ve(n):n,a(n),G!==null&&t.add(G),l&&n!==(n=r())){var _=e.selectionStart,p=e.selectionEnd;e.value=n??"",p!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(p,e.value.length))}}),(D&&e.defaultValue!==e.value||ca(r)==null&&e.value)&&(a(fe(e)?ve(e.value):e.value),G!==null&&t.add(G)),Fe(()=>{var o=r();if(e===document.activeElement){var n=_a??G;if(t.has(n))return}fe(e)&&o===ve(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const ie=new Set;function oe(e,r,a,l,t=l){var o=a.getAttribute("type")==="checkbox",n=e;let _=!1;if(r!==null)for(var p of r)n=n[p]??=[];n.push(a),he(a,"change",()=>{var f=a.__value;o&&(f=Se(n,f,a.checked)),t(f)},()=>t(o?[]:null)),Fe(()=>{var f=l();if(D&&a.defaultChecked!==a.checked){_=!0;return}o?(f=f||[],a.checked=f.includes(a.__value)):a.checked=$e(a.__value,f)}),Le(()=>{var f=n.indexOf(a);f!==-1&&n.splice(f,1)}),ie.has(n)||(ie.add(n),ce(()=>{n.sort((f,h)=>f.compareDocumentPosition(h)===4?-1:1),ie.delete(n)})),ce(()=>{if(_){var f;if(o)f=Se(n,f,a.checked);else{var h=n.find(E=>E.checked);f=h?.__value}t(f)}})}function Se(e,r,a){for(var l=new Set,t=0;t<e.length;t+=1)e[t].checked&&l.add(e[t].__value);return a||l.delete(r),Array.from(l)}function fe(e){var r=e.type;return r==="number"||r==="range"}function ve(e){return e===""?null:+e}var Sa=O("<option> </option>"),Ta=O('<tr class="svelte-ip6uip"><td class="svelte-ip6uip"> </td><td class="svelte-ip6uip"> </td></tr>'),ka=O('<label>Filter by Note:&nbsp; <select></select></label> <table class="svelte-ip6uip"><thead><tr class="svelte-ip6uip"><th class="svelte-ip6uip">Note</th><th class="svelte-ip6uip">Frequency (Hz)</th></tr></thead><tbody></tbody></table>',1);function Ia(e,r){me(r,!0);const a=440,l=69,t=["C","C♯/D♭","D","D♯/E♭","E","F","F♯/G♭","G","G♯/A♭","A","A♯/B♭","B"];function o(s){return a*Math.pow(2,(s-l)/12)}function n(s=24,u=120){const b=[];for(let A=s;A<=u;A++){const N=t[A%12],y=Math.floor(A/12)-1,i=`${N}${y}`,d=o(A).toFixed(2);b.push({note:i,frequency:d})}return b}const _=n(),p=[...Array.from(new Set(_.map(s=>s.note.replace(/\d+$/,""))))];let f=ma("C"),h=ha(()=>_.filter(s=>s.note.replace(/\d+$/,"")===m(f)));var E=ka(),T=P(E),I=x(k(T));X(I,21,()=>p,W,(s,u)=>{var b=Sa(),A=k(b,!0);w(b);var N={};B(()=>{z(A,m(u)),N!==(N=m(u))&&(b.value=(b.__value=m(u))??"")}),C(s,b)}),w(I),w(T);var v=x(T,2),g=x(k(v));X(g,21,()=>m(h),W,(s,u)=>{let b=()=>m(u).note,A=()=>m(u).frequency;var N=Ta(),y=k(N),i=k(y,!0);w(y);var d=x(y),c=k(d,!0);w(d),w(N),B(()=>{z(i,b()),z(c,A())}),C(s,N)}),w(g),w(v),ga(I,()=>m(f),s=>R(f,s)),C(e,E),be()}var Ma=O('<p style="color: red;"> </p>'),xa=O("<li> </li>"),Ra=O("<ul></ul>"),Ca=O("<p>No rhymes found.</p>"),Da=O('<input placeholder="Enter a word to find rhymes..."/> <button> </button> <!>',1);function qa(e,r){me(r,!1);let a=F(""),l=F([]),t=F(!1),o=F(""),n=F(!1),_="";async function p(){if(!m(a).trim()||m(a)==_)return;R(t,!0),R(o,""),R(l,[]),R(n,!1);const s=`https://rhymebrain.com/talk?function=getRhymes&word=${encodeURIComponent(m(a))}&maxResults=50`;try{const u=await fetch(s);if(!u.ok)throw new Error(`API error: ${u.statusText}`);const b=await u.json();R(l,b)}catch(u){R(o,u.message)}finally{R(t,!1),R(n,!0),_=m(a)}}Te();var f=Da(),h=P(f);Y(h);var E=x(h,2),T=k(E,!0);w(E);var I=x(E,2);{var v=s=>{var u=Ma(),b=k(u);w(u),B(()=>z(b,`Error: ${m(o)??""}`)),C(s,u)},g=s=>{var u=Ae(),b=P(u);{var A=y=>{var i=Ra();X(i,5,()=>m(l),W,(d,c)=>{var S=xa(),M=k(S);w(S),B(()=>z(M,`${m(c).word??""} (score: ${m(c).score??""})`)),C(d,S)}),w(i),C(y,i)},N=y=>{var i=Ae(),d=P(i);{var c=S=>{var M=Ca();C(S,M)};ne(d,S=>{m(n)&&!m(t)&&m(l).length===0&&S(c)},!0)}C(y,i)};ne(b,y=>{m(l).length?y(A):y(N,!1)},!0)}C(s,u)};ne(I,s=>{m(o)?s(v):s(g,!1)})}B(()=>{E.disabled=m(t),z(T,m(t)?"Loading...":"Find Rhymes")}),ze(h,()=>m(a),s=>R(a,s)),Ne("keydown",h,s=>s.key==="Enter"&&p()),Ne("click",E,p),C(e,f),be()}var Oa=O('<th class="svelte-7zbovx"><!></th>'),La=O('<td class="svelte-7zbovx"> </td>'),$a=O('<label>BPM: <input type="number" min="1" class="svelte-7zbovx"/></label> <div><label><input type="radio"/> Straight</label> <label><input type="radio"/> Dotted</label> <label><input type="radio"/> Triplet</label></div> <table class="svelte-7zbovx"><thead><tr></tr></thead><tbody><tr></tr></tbody></table>',1);function Fa(e,r){me(r,!1);const a=[];let l=F(120),t=F("straight");const o=[{label:"1",factor:1},{label:"1/2",factor:.5},{label:"1/4",factor:.25},{label:"1/8",factor:.125},{label:"1/16",factor:.0625},{label:"1/32",factor:.03125}],n=()=>60/m(l)*1e3,_=c=>{let S=n()*(c/.25);return m(t)==="dotted"&&(S*=1.5),m(t)==="triplet"&&(S*=2/3),S},p=c=>m(t)==="dotted"?`${c}<sup>D</sup>`:m(t)==="triplet"?`${c}<sup>T</sup>`:c;Te();var f=$a(),h=P(f),E=x(k(h));Y(E),w(h);var T=x(h,2),I=k(T),v=k(I);Y(v),v.value=v.__value="straight",le(),w(I);var g=x(I,2),s=k(g);Y(s),s.value=s.__value="dotted",le(),w(g);var u=x(g,2),b=k(u);Y(b),b.value=b.__value="triplet",le(),w(u),w(T);var A=x(T,2),N=k(A),y=k(N);X(y,5,()=>o,W,(c,S)=>{var M=Oa(),L=k(M);ya(L,()=>p(m(S).label)),w(M),C(c,M)}),w(y),w(N);var i=x(N),d=k(i);X(d,5,()=>o,W,(c,S)=>{var M=La(),L=k(M);w(M),B(q=>z(L,`${q??""} ms`),[()=>_(m(S).factor).toFixed(2)]),C(c,M)}),w(d),w(i),w(A),ze(E,()=>m(l),c=>R(l,c)),oe(a,[],v,()=>m(t),c=>R(t,c)),oe(a,[],s,()=>m(t),c=>R(t,c)),oe(a,[],b,()=>m(t),c=>R(t,c)),C(e,f),be()}var Ha=O("<h1>musictools</h1> <!> <!> <!>",1);function Va(e){var r=Ha(),a=x(P(r),2);Ia(a,{});var l=x(a,2);qa(l,{});var t=x(l,2);Fa(t,{}),C(e,r)}export{Va as component};
